---
layout: post
title:  "An Answer to \"Are You Possibly a Bot?\""
ref:  20200531b
date:   2020-05-31 17:20:00 +0800
categories: cloudflare botmanagement
tags: cloudflare botmanagement 
lang: en
---

I have talked about [how to deal with malicious bots in your application at this webinar.](/cloudflare/botmanagement/2020/05/21/webinar-debunking-myths-en.html) Since I've started to play with this blog I'm also testing [Cloudflare Bot Management](https://www.cloudflare.com/products/bot-management/) for this site which will be logging (I haven't deployed any action yet) requests under botScore of 30.

Cloudflare uses heuristic, machine learning, behaviour analysis (such big words) to determine if the requests is automatically generated by automated processes. The result of the analysis will be given to our Bot Management customers in a form of scoring from 1 to 100. It is called botScore but I personally want to change to trustScore because it is confusing. Below is how to read;

- botScore closer to 1 means more absolutely bots
- botScore closer to 100 means more absolutely humans

[If you access to this page it will display your request information in very detailed manner including botScore.](https://blog.jeann.net/header) Click on the link and look at this section. Below is my result:

{% highlight ruby %}
          "botManagement": {
               "staticResource": false,
               "verifiedBot": false,
               "score": 92
          },
{% endhighlight %}

This part means: I'm requesting a dynamic resource (`"staticResource": false`) AND I'm not a globally whitelisted good bot like search engine crawler (`"verifiedBot": false`) AND Cloudflare's intelligence measured possibility of my request being mankind is 92% (`"score": 92`), so pretty legit. They're an answer to the question "Are you possibly a bot?"

And I am, as an administrator of this website, collecting this request score information and able to see what are usual botScore I see at my site. I can draw a quantile graph to see bot request trends, and set the security rule (challenge? block?) accordingly based on my needs.

I have seen a case that the website is under pretty advanced DDoS attack that is on application layer and sophisticated enough not to trigger Rate Limiting rules. It was hard to patternize their distributed unlegit requests and apply custom blocking rules. Then we turned Bot Management on - botScore gave < 30 to attack requests while legit users got 90-99 - website went online without impacting legit customers. Problem solved.

It's a really interesting product to explore if you have problems with bot attacks today.

# Help us to improve!

[Do you happen to see your own botScore lower than 30,](https://blog.jeann.net/header) while you're accessing the link from the legit browser using your laptop/tablet/mobile?

I don't think it would happen. However in case it did, please leave a false positive report (copy-paste the **whole output**(excluding cookie) and send it to Cloudflare support team) so we can improve our detection. 

By the way, it is expected to see low botScore if you used your terminal `curl "https://blog.jeann.net/header"` or any possible automated way :)